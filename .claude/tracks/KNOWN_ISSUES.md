# Known Issues & Technical Debt

> **Last Updated:** 2026-01-29
> **Source:** Discovered during regression fixes and task completion

---

## 1. Type Annotation Errors

### 1.1 WallPanel base_point Mismatch
**File:** `src/fem/model_builder.py`
**Lines:** 683-778, 796-890
**Issue:** `_extract_wall_panels()` passes 3-tuple `(x, y, z)` but `WallPanel.__init__` expects 2-tuple `(x, y)`
**Impact:** LSP error only - code works at runtime
**Fix:** Either update WallPanel to accept 3-tuple or slice the tuple `(x, y, z)[:2]`
**Priority:** Low

### 1.2 app.py Type Mismatches
**File:** `app.py`
**Issues:**
| Line | Error | Fix |
|------|-------|-----|
| 1301-1500 | `length_x/length_y` type `float | None` vs `float` | Add null check before passing |
| 1586 | `lateral_system` attribute unknown | Update LateralInput or check attribute existence |
| 1688 | `suggested_omit_columns` type mismatch | Convert list to tuple |
| 1923 | `selected_slab_type` undefined | Define before use |
| 1970-1986 | Attribute access on None | Add null checks |
| 2091 | `st.components` unknown | Update Streamlit types or ignore |

**Priority:** Medium

---

## 2. Deprecated Code

### 2.1 analysis_summary.py
**File:** `src/fem/analysis_summary.py`
**Status:** No longer imported after Task 16.2
**Function:** `build_fem_vs_simplified_comparison`
**Action:** Can be deleted or deprecated
**Priority:** Low (cleanup)

### 2.2 Moment Frame Tests
**File:** `tests/test_moment_frame.py`
**Status:** Entire module skipped with `pytest.mark.skip`
**Reason:** Uses deprecated API:
- `LateralInput.core_dim_x/y/thickness` (removed)
- `ColumnEngine.check_combined_load` (removed)
- `WindEngine.get_required_moment_of_inertia` (simplified workflow)
**Action:** Write FEM-based replacement tests
**Priority:** Medium (Track 8)

---

## 3. Missing Functionality

### 3.1 ColumnEngine.check_combined_load
**File:** `src/engines/column_engine.py`, `app.py:962`
**Issue:** Method was removed but still referenced in app.py
**Impact:** Will raise AttributeError if that code path is executed
**Fix:** Either implement FEM-based version or remove the call
**Priority:** High (potential runtime error)

---

## 4. Test Suite Status

| Metric | Value |
|--------|-------|
| Total tests | 861 |
| Passing | 853 |
| Skipped | 8 |
| Failed | 0 |

**Skipped tests:** All in `test_moment_frame.py` (deprecated API)

---

## Resolution Tracking

| Issue | Track | Status |
|-------|-------|--------|
| WallPanel base_point | Backlog | Pending |
| app.py type errors | Backlog | Pending |
| analysis_summary.py cleanup | Backlog | Pending |
| Moment frame tests | Track 8 | Pending |
| check_combined_load | Backlog | Pending |

---

*Generated by Orchestrator during session 2026-01-29*
